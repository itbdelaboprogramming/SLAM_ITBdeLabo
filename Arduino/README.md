# Arduino - ITBdeLabo prototype
The `itbdelabo_prototype` Arduino code is a code to control ITB de Labo's prototype. This code depends on "PinChangeInterrupt" and "ros_lib" library. The "PinChangeInterrupt" library can be downloaded from Arduino's "Manage Libraries" tab, while "ros\_lib" library is generated by using this command:
```
rosrun rosserial_arduino make_libraries.py .
```
after doing `catkin_make` to build SLAM_ITBdeLabo ROS package.

# Send command from ROS
1. The Arduino program subscribes `HardwareCommand` topic that is published by `slam_node.py` from SLAM_ITBdeLabo ROS package. Therefore, to send command from ROS, run the `slam\_node.py` node using the following command:
```
roslaunch slam_itbdelabo debug.launch
```
2. Then set `start_mapping` param to `True` by using the following command:
```
rosservice call /set_mapping 1 0 0
```
3. After that, you can provide `/cmd_vel` topic from other node that publish `/cmd_vel` topic such as `teleop_twist\_keyboard` by using this command:
```
rosrun teleop_twist_keyboard teleop_twist_keyboard.py _key_timeout:=0.3
```
you can provide `/cmd_vel` topic from other node than `teleop_twist\_keyboard`.

# Run the Arduino node
The Arduino node can be run using rosserial_arduino:
```
rosrun rosserial_arduino serial_node.py
```
